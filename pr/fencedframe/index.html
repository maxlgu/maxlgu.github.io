<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Read Only Fenced Frame Test</title>
  <link rel="icon" href="/favicon.ico">
  <link rel="stylesheet" type="text/css" href="../style.css">
</head>
<style type="text/css">
#gpayButton {
    background-color: Transparent;
    background-repeat:no-repeat;
    border: none;
    cursor:pointer;
    overflow: hidden;  
}

#placeholder {
    display: flex;
    position: absolute;
}

</style>

<body>
    <div>
        <h1>Fenced Frame examples:</h1>
        <h2>Fenced Frame #1</h2>
        <button id='gpayButton'>
            <div id='placeholder' onclick='loginGPay()' style='width: 300px; z-index: 100; height: 40px; margin-top:0'></div>
            <fencedframe src="https://maxlg-big-query-project.ue.r.appspot.com/fencedframe.html"
                style="height: 40px;"/>
        </button>
        <p>Html source code:</p>
        <p>
            &ltfencedframe src="https://maxlg-big-query-project.ue.r.appspot.com/fencedframe.html"&gt&lt/fencedframe&gt
        </p>
        <h2>Fenced Frame #2</h2>
        <fencedframe src="https://mparch.glitch.me/cookie.html"></fencedframe>
        <p>Html source code:</p>
        <p>
            &ltfencedframe src="https://mparch.glitch.me/cookie.html"&gt&lt/fencedframe&gt
        </p>
        <p>Prerequisite: enable chrome://flags/#enable-fenced-frames</p>
        <div>More <a href="https://mparch.glitch.me/?url=.%2Fcookie.html">examples</a></div>
    </div>
    <div>
        <h1>Iframe examples:</h1>
        <iframe src="https://maxlg-big-query-project.ue.r.appspot.com/"></iframe>
        <p>Html source code:</p>
        <pre>
            &lt iframe src="https://maxlg-big-query-project.ue.r.appspot.com/"&gt&lt/iframe &gt
        </pre>
    </div>
</body>

<script type="text/javascript">
    function loginGPay() {
        window.open('https://maxlg-big-query-project.ue.r.appspot.com/login.html',
            'GPay login','width=600,height=300');
    }

    function movePlaceHolder() {
        const gpayButton = document.getElementById('gpayButton');
        var rect = gpayButton.getBoundingClientRect();
        const placeholder = document.getElementById('placeholder');
        console.log(rect.top, rect.right, rect.bottom, rect.left);
        placeholder.style.top = rect.top;
        placeholder.style.left = rect.left;
    }

    setInterval(()=>{
        movePlaceHolder();
    }, 1000);
</script>
