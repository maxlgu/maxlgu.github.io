<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Read Only Fenced Frame Test</title>
  <link rel="icon" href="/favicon.ico">
  <link rel="stylesheet" type="text/css" href="../style.css">
</head>
<style type="text/css">
#gpayButton {
    background-color: Transparent;
    background-repeat:no-repeat;
    border: none;
    cursor:pointer;
    overflow: hidden;  
}

#placeholder {
    display: flex;
    position: absolute;
}

</style>

<body>
    <h1>Fenced Frame examples:</h1>
    <button id='gpayButton'>
        <div id='placeholder' onclick='loginGPay()' style='width: 300px; z-index: 100; height: 40px; margin-top:0'></div>
        <fencedframe src="https://maxlg-big-query-project.ue.r.appspot.com/fencedframe.html"
            style="height: 40px;"/>
    </button>
    <p>Html source code:</p>
    <p>
        &ltfencedframe src="https://maxlg-big-query-project.ue.r.appspot.com/fencedframe.html"&gt&lt/fencedframe&gt
    </p>
    <div>Github: <a href="https://github.com/maxlgu/fencedframe-testpage">https://github.com/maxlgu/fencedframe-testpage</a></div>
</body>

<script type="text/javascript">
    function loginGPay() {
        window.open('https://maxlg-big-query-project.ue.r.appspot.com/login.html',
            'GPay login','width=600,height=300');
    }

    function movePlaceHolder() {
        const gpayButton = document.getElementById('gpayButton');
        var rect = gpayButton.getBoundingClientRect();
        const placeholder = document.getElementById('placeholder');
        console.log(rect.top, rect.right, rect.bottom, rect.left);
        placeholder.style.top = rect.top;
        placeholder.style.left = rect.left;
    }

    setInterval(()=>{
        movePlaceHolder();
    }, 1000);
</script>
